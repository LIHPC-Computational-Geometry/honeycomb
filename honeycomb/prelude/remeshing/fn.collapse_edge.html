<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Collapse an edge separating two triangles."><title>collapse_edge in honeycomb::prelude::remeshing - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="honeycomb" data-themes="" data-resource-suffix="" data-rustdoc-version="1.93.0-nightly (d5419f1e9 2025-10-30)" data-channel="nightly" data-search-js="search-6acd48a0.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">collapse_edge</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../honeycomb/index.html">honeycomb</a><span class="version">0.10.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">collapse_<wbr>edge</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#arguments" title="Arguments">Arguments</a></li><li><a href="#return--errors" title="Return / Errors">Return / Errors</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In honeycomb::<wbr>prelude::<wbr>remeshing</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">honeycomb</a>::<wbr><a href="../index.html">prelude</a>::<wbr><a href="index.html">remeshing</a></div><h1>Function <span class="fn">collapse_<wbr>edge</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/honeycomb_kernels/remeshing/collapse.rs.html#97-101">Source</a> </span></div><pre class="rust item-decl"><code>pub fn collapse_edge&lt;T&gt;(
    t: &amp;mut Transaction,
    map: &amp;<a class="struct" href="../struct.CMap2.html" title="struct honeycomb::prelude::CMap2">CMap2</a>&lt;T&gt;,
    e: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, TransactionError&lt;<a class="enum" href="enum.EdgeCollapseError.html" title="enum honeycomb::prelude::remeshing::EdgeCollapseError">EdgeCollapseError</a>&gt;&gt;<div class="where">where
    T: <a class="trait" href="../trait.CoordsFloat.html" title="trait honeycomb::prelude::CoordsFloat">CoordsFloat</a>,</div></code></pre><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>kernels</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Collapse an edge separating two triangles.</p>
<div class="example-wrap"><pre class="language-text"><code>+-----+-----+       +-----+-----+
|    / \    |        \    |    /
|   /   \   |         \  2-3  /
1  2     3  4          1  |  4
| /       \ |           \ | /
|/         \|            \|/
+-----------+  --&gt;        +
|\    e    /|            /|\
| \       / |           / | \
5  6     7  8          5  |  8
|   \   /   |         /  6-7  \
|    \ /    |        /    |    \
+-----+-----+       +-----+-----+</code></pre></div>
<p>This function expects to operate on a triangular mesh. The edge may be collapsed to one of
the existing vertices, or to the average of their value; this is determined by the anchoring
of the mesh to its geometry. If no anchoring attributes are present, the edge is always
collapsed to the average value.</p>
<h2 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h2>
<ul>
<li><code>t: &amp;mut Transaction</code> – Associated transaction.</li>
<li><code>map: &amp;mut CMap2</code> – Edited map.</li>
<li><code>e: EdgeIdType</code> – Edge to move.</li>
</ul>
<h2 id="return--errors"><a class="doc-anchor" href="#return--errors">§</a>Return / Errors</h2>
<p>Upon success, this function will return the ID of the new vertex formed after the collapse.
Depending on the anchoring constraints, it may be placed on one of the two previously existing
vertex, or to their average value.</p>
<p>This function will abort and raise an error if:</p>
<ul>
<li>the transaction cannot be completed,</li>
<li>one internal sew operation fails,</li>
<li>the collapse cannot be completed; see <a href="enum.EdgeCollapseError.html" title="enum honeycomb::prelude::remeshing::EdgeCollapseError"><code>EdgeCollapseError</code></a> for more information.</li>
</ul>
<p>The returned error can be used in conjunction with transaction control to avoid any
modifications in case of failure at attribute level. The user can then choose to retry or
abort as he wishes using <code>Transaction::with_control_and_err</code>.</p>
<div class="warning">
Note that the function will return `StmError::Retry` if it attempts to read a missing vertex.
If used within a transaction which retries indefinitely (e.g. `atomically_with_err`), it can
lead to an infinite loop.
<p>This will not happen unless the map ends up in an incorrect state where topological vertices
have no associated coordinates.</p>
</div></div></details></section></div></main></body></html>